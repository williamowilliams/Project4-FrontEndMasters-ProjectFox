var _gameState = require("./gameState");
var _parcelHelpers = require("@parcel/transformer-js/lib/esmodule-helpers.js");
var _gameStateDefault = _parcelHelpers.interopDefault(_gameState);
// Screaming case used to show this is not a standard variable.
const TICK_RATE = 3000;
const init = () => {
  console.log('starting game');
  // Used a closure to encapsulate the state of the game and advance the game
  let nextTimeToTick = Date.now();
  const nextAnimationFrame = () => {
    const now = Date.now();
    // scheduling the tick function once it's ready
    if (nextTimeToTick <= now) {
      _gameStateDefault.default.tick();
      nextTimeToTick = now + TICK_RATE;
    }
    // Using requestAnimationFrame as this waits for the Browser to idle(which is often) compared to setInterval which tells the browser to stop what it's doing and perform this function
    requestAnimationFrame(nextAnimationFrame);
  };
  // needs to be schduled once
  requestAnimationFrame(nextAnimationFrame);
};
init();
