require("./gameSate");
// Screaming case used to show this is not a standard variable.
const TICK_RATE = 3000;
const tick = () => {
  console.log("tick", Date.now());
};
const init = () => {
  console.log('starting game');
  // Used a closure to encapsulate the state of the game and advance the game
  let nextTimeToTick = Date.now();
  const nextAnimationFrame = () => {
    const now = Date.now();
    // scheduling the tick function once it's ready
    if (nextTimeToTick <= now) {
      tick();
      nextTimeToTick = now + TICK_RATE;
    }
    // Using requestAnimationFrame as this waits for the Browser to idle(which is often) compared to setInterval which tells the browser to stop what it's doing and perform this function
    requestAnimationFrame(nextAnimationFrame);
  };
  // needs to be schduled once
  requestAnimationFrame(nextAnimationFrame);
};
init();
